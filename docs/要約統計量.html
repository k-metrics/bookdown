<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2.1 要約統計量 | Rのすゝめ</title>
  <meta name="description" content="本書はデータ分析勉強会で学んだ成果をまとめたものです" />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="2.1 要約統計量 | Rのすゝめ" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="本書はデータ分析勉強会で学んだ成果をまとめたものです" />
  <meta name="github-repo" content="k-metrics/bookdown" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2.1 要約統計量 | Rのすゝめ" />
  
  <meta name="twitter:description" content="本書はデータ分析勉強会で学んだ成果をまとめたものです" />
  

<meta name="author" content="Sampo Suzuki, CC 4.0 BY-NC-SA" />


<meta name="date" content="2021-05-27" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="rの基本.html"/>
<link rel="next" href="推定.html"/>
<script src="assets/header-attrs-2.8/header-attrs.js"></script>
<script src="assets/jquery-2.2.3/jquery.min.js"></script>
<link href="assets/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="assets/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="assets/anchor-sections-1.0.1/anchor-sections.js"></script>
<link href="assets/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="assets/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />
<link href="assets/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="assets/pagedtable-1.1/js/pagedtable.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; } /* Alert */
code span.an { color: #008000; } /* Annotation */
code span.at { } /* Attribute */
code span.bu { } /* BuiltIn */
code span.cf { color: #0000ff; } /* ControlFlow */
code span.ch { color: #008080; } /* Char */
code span.cn { } /* Constant */
code span.co { color: #008000; } /* Comment */
code span.cv { color: #008000; } /* CommentVar */
code span.do { color: #008000; } /* Documentation */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.im { } /* Import */
code span.in { color: #008000; } /* Information */
code span.kw { color: #0000ff; } /* Keyword */
code span.op { } /* Operator */
code span.ot { color: #ff4000; } /* Other */
code span.pp { color: #ff4000; } /* Preprocessor */
code span.sc { color: #008080; } /* SpecialChar */
code span.ss { color: #008080; } /* SpecialString */
code span.st { color: #008080; } /* String */
code span.va { } /* Variable */
code span.vs { color: #008080; } /* VerbatimString */
code span.wa { color: #008000; font-weight: bold; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>License</a></li>
<li class="part"><span><b>I Introduction</b></span></li>
<li class="chapter" data-level="" data-path="はじめに.html"><a href="はじめに.html"><i class="fa fa-check"></i>はじめに</a>
<ul>
<li class="chapter" data-level="" data-path="想定読者.html"><a href="想定読者.html"><i class="fa fa-check"></i>想定読者</a></li>
<li class="chapter" data-level="" data-path="表記ルール.html"><a href="表記ルール.html"><i class="fa fa-check"></i>表記ルール</a></li>
<li class="chapter" data-level="" data-path="なぜrか.html"><a href="なぜrか.html"><i class="fa fa-check"></i>なぜRか？</a></li>
<li class="chapter" data-level="" data-path="分析の手順.html"><a href="分析の手順.html"><i class="fa fa-check"></i>分析の手順</a></li>
<li class="chapter" data-level="" data-path="data-science-workflow.html"><a href="data-science-workflow.html"><i class="fa fa-check"></i>Data Science Workflow</a>
<ul>
<li class="chapter" data-level="" data-path="data-science-workflow.html"><a href="data-science-workflow.html#program"><i class="fa fa-check"></i>Program</a></li>
<li class="chapter" data-level="" data-path="data-science-workflow.html"><a href="data-science-workflow.html#import"><i class="fa fa-check"></i>Import</a></li>
<li class="chapter" data-level="" data-path="data-science-workflow.html"><a href="data-science-workflow.html#tidy"><i class="fa fa-check"></i>Tidy</a></li>
<li class="chapter" data-level="" data-path="data-science-workflow.html"><a href="data-science-workflow.html#transform"><i class="fa fa-check"></i>Transform</a></li>
<li class="chapter" data-level="" data-path="data-science-workflow.html"><a href="data-science-workflow.html#visualize"><i class="fa fa-check"></i>Visualize</a></li>
<li class="chapter" data-level="" data-path="data-science-workflow.html"><a href="data-science-workflow.html#model"><i class="fa fa-check"></i>Model</a></li>
<li class="chapter" data-level="" data-path="data-science-workflow.html"><a href="data-science-workflow.html#communicate"><i class="fa fa-check"></i>Communicate</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="tidyverse-ecosystem.html"><a href="tidyverse-ecosystem.html"><i class="fa fa-check"></i>Tidyverse Ecosystem</a></li>
</ul></li>
<li class="part"><span><b>II Program</b></span></li>
<li class="chapter" data-level="1" data-path="分析環境.html"><a href="分析環境.html"><i class="fa fa-check"></i><b>1</b> 分析環境</a>
<ul>
<li class="chapter" data-level="1.1" data-path="主な分析環境.html"><a href="主な分析環境.html"><i class="fa fa-check"></i><b>1.1</b> 主な分析環境</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="主な分析環境.html"><a href="主な分析環境.html#r-commander"><i class="fa fa-check"></i><b>1.1.1</b> R Commander</a></li>
<li class="chapter" data-level="1.1.2" data-path="主な分析環境.html"><a href="主な分析環境.html#google-colab"><i class="fa fa-check"></i><b>1.1.2</b> Google Colab</a></li>
<li class="chapter" data-level="1.1.3" data-path="主な分析環境.html"><a href="主な分析環境.html#rstudio"><i class="fa fa-check"></i><b>1.1.3</b> RStudio</a></li>
<li class="chapter" data-level="1.1.4" data-path="主な分析環境.html"><a href="主な分析環境.html#rstudio-cloud"><i class="fa fa-check"></i><b>1.1.4</b> RStudio Cloud</a></li>
<li class="chapter" data-level="1.1.5" data-path="主な分析環境.html"><a href="主な分析環境.html#programing-editor"><i class="fa fa-check"></i><b>1.1.5</b> Programing Editor</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="rの基本.html"><a href="rの基本.html"><i class="fa fa-check"></i><b>2</b> Rの基本</a>
<ul>
<li class="chapter" data-level="2.1" data-path="要約統計量.html"><a href="要約統計量.html"><i class="fa fa-check"></i><b>2.1</b> 要約統計量</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="要約統計量.html"><a href="要約統計量.html#平均"><i class="fa fa-check"></i><b>2.1.1</b> 平均</a></li>
<li class="chapter" data-level="2.1.2" data-path="要約統計量.html"><a href="要約統計量.html#分散標準偏差"><i class="fa fa-check"></i><b>2.1.2</b> 分散・標準偏差</a></li>
<li class="chapter" data-level="2.1.3" data-path="要約統計量.html"><a href="要約統計量.html#モーメント"><i class="fa fa-check"></i><b>2.1.3</b> モーメント</a></li>
<li class="chapter" data-level="2.1.4" data-path="要約統計量.html"><a href="要約統計量.html#中央値"><i class="fa fa-check"></i><b>2.1.4</b> 中央値</a></li>
<li class="chapter" data-level="2.1.5" data-path="要約統計量.html"><a href="要約統計量.html#範囲"><i class="fa fa-check"></i><b>2.1.5</b> 範囲</a></li>
<li class="chapter" data-level="2.1.6" data-path="要約統計量.html"><a href="要約統計量.html#四分位数四分位範囲"><i class="fa fa-check"></i><b>2.1.6</b> 四分位数・四分位範囲</a></li>
<li class="chapter" data-level="2.1.7" data-path="要約統計量.html"><a href="要約統計量.html#最頻値"><i class="fa fa-check"></i><b>2.1.7</b> 最頻値</a></li>
<li class="chapter" data-level="2.1.8" data-path="要約統計量.html"><a href="要約統計量.html#まとめ"><i class="fa fa-check"></i><b>2.1.8</b> まとめ</a></li>
<li class="chapter" data-level="2.1.9" data-path="要約統計量.html"><a href="要約統計量.html#演習"><i class="fa fa-check"></i><b>2.1.9</b> 演習</a></li>
<li class="chapter" data-level="" data-path="要約統計量.html"><a href="要約統計量.html#コラム"><i class="fa fa-check"></i>コラム</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="推定.html"><a href="推定.html"><i class="fa fa-check"></i><b>2.2</b> 推定</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="推定.html"><a href="推定.html#点推定"><i class="fa fa-check"></i><b>2.2.1</b> 点推定</a></li>
<li class="chapter" data-level="2.2.2" data-path="推定.html"><a href="推定.html#区間推定"><i class="fa fa-check"></i><b>2.2.2</b> 区間推定</a></li>
<li class="chapter" data-level="2.2.3" data-path="推定.html"><a href="推定.html#まとめ-1"><i class="fa fa-check"></i><b>2.2.3</b> まとめ</a></li>
<li class="chapter" data-level="2.2.4" data-path="推定.html"><a href="推定.html#演習-4"><i class="fa fa-check"></i><b>2.2.4</b> 演習</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="検定.html"><a href="検定.html"><i class="fa fa-check"></i><b>2.3</b> 検定</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="検定.html"><a href="検定.html#f検定"><i class="fa fa-check"></i><b>2.3.1</b> F検定</a></li>
<li class="chapter" data-level="2.3.2" data-path="検定.html"><a href="検定.html#二項検定"><i class="fa fa-check"></i><b>2.3.2</b> 二項検定</a></li>
<li class="chapter" data-level="2.3.3" data-path="検定.html"><a href="検定.html#まとめ-2"><i class="fa fa-check"></i><b>2.3.3</b> まとめ</a></li>
<li class="chapter" data-level="2.3.4" data-path="検定.html"><a href="検定.html#演習-7"><i class="fa fa-check"></i><b>2.3.4</b> 演習</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="分散分析.html"><a href="分散分析.html"><i class="fa fa-check"></i><b>2.4</b> 分散分析</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="分散分析.html"><a href="分散分析.html#まとめ-3"><i class="fa fa-check"></i><b>2.4.1</b> まとめ</a></li>
<li class="chapter" data-level="2.4.2" data-path="分散分析.html"><a href="分散分析.html#演習-10"><i class="fa fa-check"></i><b>2.4.2</b> 演習</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="回帰分析.html"><a href="回帰分析.html"><i class="fa fa-check"></i><b>2.5</b> 回帰分析</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="回帰分析.html"><a href="回帰分析.html#まとめ-4"><i class="fa fa-check"></i><b>2.5.1</b> まとめ</a></li>
<li class="chapter" data-level="2.5.2" data-path="回帰分析.html"><a href="回帰分析.html#演習-13"><i class="fa fa-check"></i><b>2.5.2</b> 演習</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III Wrangle</b></span></li>
<li class="chapter" data-level="3" data-path="import-1.html"><a href="import-1.html"><i class="fa fa-check"></i><b>3</b> Import</a>
<ul>
<li class="chapter" data-level="3.1" data-path="readr.html"><a href="readr.html"><i class="fa fa-check"></i><b>3.1</b> readr</a></li>
<li class="chapter" data-level="3.2" data-path="readxl.html"><a href="readxl.html"><i class="fa fa-check"></i><b>3.2</b> readxl</a></li>
<li class="chapter" data-level="3.3" data-path="pdftools.html"><a href="pdftools.html"><i class="fa fa-check"></i><b>3.3</b> pdftools</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="tidy-1.html"><a href="tidy-1.html"><i class="fa fa-check"></i><b>4</b> Tidy</a>
<ul>
<li class="chapter" data-level="4.1" data-path="tidy-data.html"><a href="tidy-data.html"><i class="fa fa-check"></i><b>4.1</b> Tidy Data</a></li>
<li class="chapter" data-level="4.2" data-path="longer.html"><a href="longer.html"><i class="fa fa-check"></i><b>4.2</b> longer</a></li>
<li class="chapter" data-level="4.3" data-path="wider.html"><a href="wider.html"><i class="fa fa-check"></i><b>4.3</b> wider</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="transform-1.html"><a href="transform-1.html"><i class="fa fa-check"></i><b>5</b> Transform</a>
<ul>
<li class="chapter" data-level="5.1" data-path="filter.html"><a href="filter.html"><i class="fa fa-check"></i><b>5.1</b> filter</a></li>
<li class="chapter" data-level="5.2" data-path="rename.html"><a href="rename.html"><i class="fa fa-check"></i><b>5.2</b> rename</a></li>
<li class="chapter" data-level="5.3" data-path="select.html"><a href="select.html"><i class="fa fa-check"></i><b>5.3</b> select</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="select.html"><a href="select.html#select-helpers"><i class="fa fa-check"></i><b>5.3.1</b> select helpers</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="mutate.html"><a href="mutate.html"><i class="fa fa-check"></i><b>5.4</b> mutate</a></li>
<li class="chapter" data-level="5.5" data-path="summarize.html"><a href="summarize.html"><i class="fa fa-check"></i><b>5.5</b> summarize</a></li>
</ul></li>
<li class="part"><span><b>IV Visualize</b></span></li>
<li class="chapter" data-level="6" data-path="base-r.html"><a href="base-r.html"><i class="fa fa-check"></i><b>6</b> Base R</a>
<ul>
<li class="chapter" data-level="6.1" data-path="plot.html"><a href="plot.html"><i class="fa fa-check"></i><b>6.1</b> plot</a></li>
<li class="chapter" data-level="6.2" data-path="boxplot.html"><a href="boxplot.html"><i class="fa fa-check"></i><b>6.2</b> boxplot</a></li>
<li class="chapter" data-level="6.3" data-path="hist.html"><a href="hist.html"><i class="fa fa-check"></i><b>6.3</b> hist</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="ggplot2.html"><a href="ggplot2.html"><i class="fa fa-check"></i><b>7</b> ggplot2</a></li>
<li class="part"><span><b>V Model/Infer</b></span></li>
<li class="chapter" data-level="8" data-path="test.html"><a href="test.html"><i class="fa fa-check"></i><b>8</b> Test</a></li>
<li class="chapter" data-level="9" data-path="linear-model.html"><a href="linear-model.html"><i class="fa fa-check"></i><b>9</b> Linear model</a></li>
<li class="chapter" data-level="10" data-path="machine-learning.html"><a href="machine-learning.html"><i class="fa fa-check"></i><b>10</b> Machine Learning</a></li>
<li class="part"><span><b>VI Communicate</b></span></li>
<li class="chapter" data-level="11" data-path="r-markdown.html"><a href="r-markdown.html"><i class="fa fa-check"></i><b>11</b> R Markdown</a></li>
<li class="part"><span><b>VII Automate</b></span></li>
<li class="chapter" data-level="12" data-path="shiny.html"><a href="shiny.html"><i class="fa fa-check"></i><b>12</b> shiny</a></li>
<li class="part"><span><b>VIII APPENDIX</b></span></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>A</b> References</a></li>
<li class="chapter" data-level="B" data-path="Appendix-RBasics.html"><a href="Appendix-RBasics.html"><i class="fa fa-check"></i><b>B</b> R Basics</a>
<ul>
<li class="chapter" data-level="B.1" data-path="基本的な演算.html"><a href="基本的な演算.html"><i class="fa fa-check"></i><b>B.1</b> 基本的な演算</a>
<ul>
<li class="chapter" data-level="B.1.1" data-path="基本的な演算.html"><a href="基本的な演算.html#算術演算"><i class="fa fa-check"></i><b>B.1.1</b> 算術演算</a></li>
<li class="chapter" data-level="B.1.2" data-path="基本的な演算.html"><a href="基本的な演算.html#代入"><i class="fa fa-check"></i><b>B.1.2</b> 代入</a></li>
<li class="chapter" data-level="B.1.3" data-path="基本的な演算.html"><a href="基本的な演算.html#代入結果の確認"><i class="fa fa-check"></i><b>B.1.3</b> 代入結果の確認</a></li>
<li class="chapter" data-level="B.1.4" data-path="基本的な演算.html"><a href="基本的な演算.html#合算"><i class="fa fa-check"></i><b>B.1.4</b> 合算</a></li>
<li class="chapter" data-level="B.1.5" data-path="基本的な演算.html"><a href="基本的な演算.html#平均-1"><i class="fa fa-check"></i><b>B.1.5</b> 平均</a></li>
<li class="chapter" data-level="B.1.6" data-path="基本的な演算.html"><a href="基本的な演算.html#変数の上書き"><i class="fa fa-check"></i><b>B.1.6</b> 変数の上書き</a></li>
</ul></li>
<li class="chapter" data-level="B.2" data-path="変数.html"><a href="変数.html"><i class="fa fa-check"></i><b>B.2</b> 変数</a>
<ul>
<li class="chapter" data-level="B.2.1" data-path="変数.html"><a href="変数.html#予約語"><i class="fa fa-check"></i><b>B.2.1</b> 予約語</a></li>
<li class="chapter" data-level="B.2.2" data-path="変数.html"><a href="変数.html#データ型"><i class="fa fa-check"></i><b>B.2.2</b> データ型</a></li>
<li class="chapter" data-level="B.2.3" data-path="変数.html"><a href="変数.html#変数型"><i class="fa fa-check"></i><b>B.2.3</b> 変数型</a></li>
</ul></li>
<li class="chapter" data-level="B.3" data-path="定数.html"><a href="定数.html"><i class="fa fa-check"></i><b>B.3</b> 定数</a>
<ul>
<li class="chapter" data-level="B.3.1" data-path="定数.html"><a href="定数.html#naの型"><i class="fa fa-check"></i><b>B.3.1</b> <code>NA</code>の型</a></li>
</ul></li>
<li class="chapter" data-level="B.4" data-path="検査変換.html"><a href="検査変換.html"><i class="fa fa-check"></i><b>B.4</b> 検査・変換</a></li>
<li class="chapter" data-level="B.5" data-path="演算子.html"><a href="演算子.html"><i class="fa fa-check"></i><b>B.5</b> 演算子</a>
<ul>
<li class="chapter" data-level="B.5.1" data-path="演算子.html"><a href="演算子.html#参照演算子"><i class="fa fa-check"></i><b>B.5.1</b> 参照演算子</a></li>
<li class="chapter" data-level="B.5.2" data-path="演算子.html"><a href="演算子.html#単項演算子"><i class="fa fa-check"></i><b>B.5.2</b> 単項演算子</a></li>
<li class="chapter" data-level="B.5.3" data-path="演算子.html"><a href="演算子.html#二項演算子"><i class="fa fa-check"></i><b>B.5.3</b> 二項演算子</a></li>
<li class="chapter" data-level="B.5.4" data-path="演算子.html"><a href="演算子.html#特殊演算子"><i class="fa fa-check"></i><b>B.5.4</b> 特殊演算子</a></li>
<li class="chapter" data-level="B.5.5" data-path="演算子.html"><a href="演算子.html#優先順位"><i class="fa fa-check"></i><b>B.5.5</b> 優先順位</a></li>
</ul></li>
<li class="chapter" data-level="B.6" data-path="制御文.html"><a href="制御文.html"><i class="fa fa-check"></i><b>B.6</b> 制御文</a>
<ul>
<li class="chapter" data-level="B.6.1" data-path="制御文.html"><a href="制御文.html#条件分岐"><i class="fa fa-check"></i><b>B.6.1</b> 条件分岐</a></li>
<li class="chapter" data-level="B.6.2" data-path="制御文.html"><a href="制御文.html#繰り返し"><i class="fa fa-check"></i><b>B.6.2</b> 繰り返し</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="C" data-path="演習解答例.html"><a href="演習解答例.html"><i class="fa fa-check"></i><b>C</b> 演習解答例</a>
<ul>
<li class="chapter" data-level="" data-path="演習-1-1.html"><a href="演習-1-1.html"><i class="fa fa-check"></i>演習 1</a>
<ul>
<li class="chapter" data-level="" data-path="演習-1-1.html"><a href="演習-1-1.html#解答例"><i class="fa fa-check"></i>解答例</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="演習-2-1.html"><a href="演習-2-1.html"><i class="fa fa-check"></i>演習 2</a>
<ul>
<li class="chapter" data-level="" data-path="演習-2-1.html"><a href="演習-2-1.html#解答例-1"><i class="fa fa-check"></i>解答例</a></li>
<li class="chapter" data-level="" data-path="演習-2-1.html"><a href="演習-2-1.html#補足"><i class="fa fa-check"></i>補足</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="演習-3-1.html"><a href="演習-3-1.html"><i class="fa fa-check"></i>演習 3</a>
<ul>
<li class="chapter" data-level="" data-path="演習-3-1.html"><a href="演習-3-1.html#解答例-2"><i class="fa fa-check"></i>解答例</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="演習-4-2.html"><a href="演習-4-2.html"><i class="fa fa-check"></i>演習 4</a>
<ul>
<li class="chapter" data-level="" data-path="演習-4-2.html"><a href="演習-4-2.html#解答例-3"><i class="fa fa-check"></i>解答例</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="演習-5-1.html"><a href="演習-5-1.html"><i class="fa fa-check"></i>演習 5</a>
<ul>
<li class="chapter" data-level="" data-path="演習-5-1.html"><a href="演習-5-1.html#解答例-4"><i class="fa fa-check"></i>解答例</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="演習-6-1.html"><a href="演習-6-1.html"><i class="fa fa-check"></i>演習 6</a>
<ul>
<li class="chapter" data-level="" data-path="演習-6-1.html"><a href="演習-6-1.html#解答例-5"><i class="fa fa-check"></i>解答例</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="演習-7-2.html"><a href="演習-7-2.html"><i class="fa fa-check"></i>演習 7</a>
<ul>
<li class="chapter" data-level="" data-path="演習-7-2.html"><a href="演習-7-2.html#解答例-6"><i class="fa fa-check"></i>解答例</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="演習-8-1.html"><a href="演習-8-1.html"><i class="fa fa-check"></i>演習 8</a>
<ul>
<li class="chapter" data-level="" data-path="演習-8-1.html"><a href="演習-8-1.html#解答例-7"><i class="fa fa-check"></i>解答例</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="演習-9-1.html"><a href="演習-9-1.html"><i class="fa fa-check"></i>演習 9</a>
<ul>
<li class="chapter" data-level="" data-path="演習-9-1.html"><a href="演習-9-1.html#解答例-8"><i class="fa fa-check"></i>解答例</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="演習-10-2.html"><a href="演習-10-2.html"><i class="fa fa-check"></i>演習 10</a>
<ul>
<li class="chapter" data-level="" data-path="演習-10-2.html"><a href="演習-10-2.html#解答例-9"><i class="fa fa-check"></i>解答例</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="演習-11-1.html"><a href="演習-11-1.html"><i class="fa fa-check"></i>演習 11</a>
<ul>
<li class="chapter" data-level="" data-path="演習-11-1.html"><a href="演習-11-1.html#解答例-10"><i class="fa fa-check"></i>解答例</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="演習-12-1.html"><a href="演習-12-1.html"><i class="fa fa-check"></i>演習 12</a>
<ul>
<li class="chapter" data-level="" data-path="演習-12-1.html"><a href="演習-12-1.html#解答例-11"><i class="fa fa-check"></i>解答例</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="演習-13-2.html"><a href="演習-13-2.html"><i class="fa fa-check"></i>演習 13</a>
<ul>
<li class="chapter" data-level="" data-path="演習-13-2.html"><a href="演習-13-2.html#解答例-12"><i class="fa fa-check"></i>解答例</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="D" data-path="environments-2.html"><a href="environments-2.html"><i class="fa fa-check"></i><b>D</b> Environments 2</a>
<ul>
<li class="chapter" data-level="D.1" data-path="google-colaboratory.html"><a href="google-colaboratory.html"><i class="fa fa-check"></i><b>D.1</b> Google Colaboratory</a>
<ul>
<li class="chapter" data-level="D.1.1" data-path="google-colaboratory.html"><a href="google-colaboratory.html#login-google"><i class="fa fa-check"></i><b>D.1.1</b> Login Google</a></li>
<li class="chapter" data-level="D.1.2" data-path="google-colaboratory.html"><a href="google-colaboratory.html#open-google-colab"><i class="fa fa-check"></i><b>D.1.2</b> Open Google Colab</a></li>
<li class="chapter" data-level="D.1.3" data-path="google-colaboratory.html"><a href="google-colaboratory.html#upload-template"><i class="fa fa-check"></i><b>D.1.3</b> Upload Template</a></li>
<li class="chapter" data-level="D.1.4" data-path="google-colaboratory.html"><a href="google-colaboratory.html#run-r-code"><i class="fa fa-check"></i><b>D.1.4</b> Run R code</a></li>
<li class="chapter" data-level="D.1.5" data-path="google-colaboratory.html"><a href="google-colaboratory.html#save-file"><i class="fa fa-check"></i><b>D.1.5</b> Save File</a></li>
</ul></li>
<li class="chapter" data-level="D.2" data-path="rstudio-cloud-1.html"><a href="rstudio-cloud-1.html"><i class="fa fa-check"></i><b>D.2</b> RStudio Cloud</a>
<ul>
<li class="chapter" data-level="D.2.1" data-path="rstudio-cloud-1.html"><a href="rstudio-cloud-1.html#create-project"><i class="fa fa-check"></i><b>D.2.1</b> Create Project</a></li>
<li class="chapter" data-level="D.2.2" data-path="rstudio-cloud-1.html"><a href="rstudio-cloud-1.html#install-packages"><i class="fa fa-check"></i><b>D.2.2</b> Install Packages</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="E" data-path="install-rrstudio.html"><a href="install-rrstudio.html"><i class="fa fa-check"></i><b>E</b> Install R/RStudio</a>
<ul>
<li class="chapter" data-level="E.1" data-path="install-r.html"><a href="install-r.html"><i class="fa fa-check"></i><b>E.1</b> Install R</a>
<ul>
<li class="chapter" data-level="E.1.1" data-path="install-r.html"><a href="install-r.html#windows"><i class="fa fa-check"></i><b>E.1.1</b> Windows</a></li>
<li class="chapter" data-level="E.1.2" data-path="install-r.html"><a href="install-r.html#macos-os-x"><i class="fa fa-check"></i><b>E.1.2</b> macOS (OS X)</a></li>
<li class="chapter" data-level="E.1.3" data-path="install-r.html"><a href="install-r.html#linux"><i class="fa fa-check"></i><b>E.1.3</b> Linux</a></li>
</ul></li>
<li class="chapter" data-level="E.2" data-path="install-rstudio-desktop.html"><a href="install-rstudio-desktop.html"><i class="fa fa-check"></i><b>E.2</b> Install RStudio Desktop</a>
<ul>
<li class="chapter" data-level="E.2.1" data-path="install-rstudio-desktop.html"><a href="install-rstudio-desktop.html#動作確認"><i class="fa fa-check"></i><b>E.2.1</b> 動作確認</a></li>
</ul></li>
<li class="chapter" data-level="E.3" data-path="install-r-packages.html"><a href="install-r-packages.html"><i class="fa fa-check"></i><b>E.3</b> Install R packages</a>
<ul>
<li class="chapter" data-level="E.3.1" data-path="install-r-packages.html"><a href="install-r-packages.html#linux環境の場合"><i class="fa fa-check"></i><b>E.3.1</b> Linux環境の場合</a></li>
</ul></li>
<li class="chapter" data-level="E.4" data-path="install-git.html"><a href="install-git.html"><i class="fa fa-check"></i><b>E.4</b> Install Git</a>
<ul>
<li class="chapter" data-level="E.4.1" data-path="install-git.html"><a href="install-git.html#git"><i class="fa fa-check"></i><b>E.4.1</b> Git</a></li>
<li class="chapter" data-level="E.4.2" data-path="install-git.html"><a href="install-git.html#git-client"><i class="fa fa-check"></i><b>E.4.2</b> Git Client</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="F" data-path="rstudio-server.html"><a href="rstudio-server.html"><i class="fa fa-check"></i><b>F</b> RStudio Server</a>
<ul>
<li class="chapter" data-level="F.1" data-path="setup-rstudio-sever-with-docker.html"><a href="setup-rstudio-sever-with-docker.html"><i class="fa fa-check"></i><b>F.1</b> Setup RStudio Sever with Docker</a>
<ul>
<li class="chapter" data-level="F.1.1" data-path="setup-rstudio-sever-with-docker.html"><a href="setup-rstudio-sever-with-docker.html#enable-hyper-v-windows-only"><i class="fa fa-check"></i><b>F.1.1</b> Enable Hyper-V (Windows Only)</a></li>
<li class="chapter" data-level="F.1.2" data-path="setup-rstudio-sever-with-docker.html"><a href="setup-rstudio-sever-with-docker.html#download-and-install-docker-desktop"><i class="fa fa-check"></i><b>F.1.2</b> Download and Install Docker Desktop</a></li>
<li class="chapter" data-level="F.1.3" data-path="setup-rstudio-sever-with-docker.html"><a href="setup-rstudio-sever-with-docker.html#download-docker-image"><i class="fa fa-check"></i><b>F.1.3</b> Download Docker Image</a></li>
<li class="chapter" data-level="F.1.4" data-path="setup-rstudio-sever-with-docker.html"><a href="setup-rstudio-sever-with-docker.html#run-container"><i class="fa fa-check"></i><b>F.1.4</b> Run Container</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="G" data-path="rstudio-ide.html"><a href="rstudio-ide.html"><i class="fa fa-check"></i><b>G</b> RStudio IDE</a>
<ul>
<li class="chapter" data-level="G.1" data-path="overview.html"><a href="overview.html"><i class="fa fa-check"></i><b>G.1</b> Overview</a></li>
<li class="chapter" data-level="G.2" data-path="keyboard-shortcuts.html"><a href="keyboard-shortcuts.html"><i class="fa fa-check"></i><b>G.2</b> Keyboard Shortcuts</a></li>
<li class="chapter" data-level="G.3" data-path="writing-r-code.html"><a href="writing-r-code.html"><i class="fa fa-check"></i><b>G.3</b> Writing R code</a></li>
<li class="chapter" data-level="G.4" data-path="global-options.html"><a href="global-options.html"><i class="fa fa-check"></i><b>G.4</b> Global Options</a>
<ul>
<li class="chapter" data-level="G.4.1" data-path="global-options.html"><a href="global-options.html#general"><i class="fa fa-check"></i><b>G.4.1</b> General</a></li>
<li class="chapter" data-level="G.4.2" data-path="global-options.html"><a href="global-options.html#code"><i class="fa fa-check"></i><b>G.4.2</b> Code</a></li>
<li class="chapter" data-level="G.4.3" data-path="global-options.html"><a href="global-options.html#appearance"><i class="fa fa-check"></i><b>G.4.3</b> Appearance</a></li>
<li class="chapter" data-level="G.4.4" data-path="global-options.html"><a href="global-options.html#pane-layout"><i class="fa fa-check"></i><b>G.4.4</b> Pane Layout</a></li>
<li class="chapter" data-level="G.4.5" data-path="global-options.html"><a href="global-options.html#packages"><i class="fa fa-check"></i><b>G.4.5</b> Packages</a></li>
<li class="chapter" data-level="G.4.6" data-path="global-options.html"><a href="global-options.html#r-markdown-1"><i class="fa fa-check"></i><b>G.4.6</b> R Markdown</a></li>
<li class="chapter" data-level="G.4.7" data-path="global-options.html"><a href="global-options.html#sweave"><i class="fa fa-check"></i><b>G.4.7</b> Sweave</a></li>
<li class="chapter" data-level="G.4.8" data-path="global-options.html"><a href="global-options.html#spelling"><i class="fa fa-check"></i><b>G.4.8</b> Spelling</a></li>
<li class="chapter" data-level="G.4.9" data-path="global-options.html"><a href="global-options.html#gitsvn"><i class="fa fa-check"></i><b>G.4.9</b> Git/SVN</a></li>
<li class="chapter" data-level="G.4.10" data-path="global-options.html"><a href="global-options.html#publishing"><i class="fa fa-check"></i><b>G.4.10</b> Publishing</a></li>
<li class="chapter" data-level="G.4.11" data-path="global-options.html"><a href="global-options.html#terminal"><i class="fa fa-check"></i><b>G.4.11</b> Terminal</a></li>
</ul></li>
<li class="chapter" data-level="G.5" data-path="project-options.html"><a href="project-options.html"><i class="fa fa-check"></i><b>G.5</b> Project Options</a></li>
</ul></li>
<li class="chapter" data-level="H" data-path="cloud-ide.html"><a href="cloud-ide.html"><i class="fa fa-check"></i><b>H</b> Cloud IDE</a>
<ul>
<li class="chapter" data-level="H.1" data-path="rstudio-cloud-ga.html"><a href="rstudio-cloud-ga.html"><i class="fa fa-check"></i><b>H.1</b> RStudio Cloud GA</a></li>
<li class="chapter" data-level="H.2" data-path="exploratory.html"><a href="exploratory.html"><i class="fa fa-check"></i><b>H.2</b> Exploratory</a></li>
<li class="chapter" data-level="H.3" data-path="binder.html"><a href="binder.html"><i class="fa fa-check"></i><b>H.3</b> binder</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Rのすゝめ</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="要約統計量" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> 要約統計量</h2>
<p>データを分析する前には分析対象となるデータがどのような特徴を持っているか確認しておくことが重要であるとよく言われます。この特徴を見るには要約統計量を使う場合が多いです。要約統計量はデータの分布の特徴を表すもので、記述統計量や基本統計量と呼ばれることもあります。</p>
<div id="平均" class="section level3" number="2.1.1">
<h3><span class="header-section-number">2.1.1</span> 平均</h3>
<p>算術平均（相加平均）は要約統計量の中でよく使われ、下式で求められます。
<!-- $$\bar{x} = \frac{x_1 + x_2 + \cdots + x_n}{n} = \frac{1}{n} \sum_{i = 1}^n x_i$$ --></p>
<p><span class="math display" id="eq:arithmetic-mean">\[\begin{equation}
  \bar{x} = \frac{x_1 + x_2 + \cdots + x_n}{n} = \frac{1}{n} \sum_{i = 1}^n x_i \tag{2.1}
\end{equation}\]</span></p>
<p>算術平均以外にも幾何平均（相乗平均）や
<!-- $$\sqrt[n]{x_1 \times x_2 \times \cdots \times x_n} = \sqrt[n]{\prod_{i = 1}^n x_i}$$ -->
<span class="math display" id="eq:geometric-mean">\[\begin{equation}
  \sqrt[n]{x_1 \times x_2 \times \cdots \times x_n} = \sqrt[n]{\prod_{i = 1}^n x_i} \tag{2.2}
\end{equation}\]</span></p>
<p>上記の他に値の下位・上位を任意の割合で除き平均（算術平均）を求めるトリム平均（刈込み平均・調整平均）という平均もあります。トリム平均は異常値や外れ値の影響を排除して平均を求めたい場合に利用されます。例えば体操競技で極端な点数を出す審査員の影響を排除するために使われます。この場合は全審査員の得点から最小と最大を除いたものから平均値を求め、その平均値を得点します。</p>
<p>平均といってもこのように様々な求め方がありますので、実際に<strong>R</strong>を使ってこれらの平均を求めてみます。</p>
<p>以降、灰色に網掛けされた部分が<strong>R</strong>のコード、コードの下の<code>##</code>で始まる部分が実行結果（出力）になります。コードによっては実行結果が出力されない場合もあります。</p>
<div id="算術平均" class="section level4" number="2.1.1.1">
<h4><span class="header-section-number">2.1.1.1</span> 算術平均</h4>
<p>式<a href="要約統計量.html#eq:arithmetic-mean">(2.1)</a>の算術平均は<code>mean()</code>関数で求めることができます。最初に平均の計算対象となるデータ（変数）を<code>c()</code>関数で作成します。<code>c()</code>関数はベクトル型の変数を作成する関数です。</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb3-1"><a href="要約統計量.html#cb3-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>)</span></code></pre></div>
<p><code>x</code>は値を代入（格納）する変数、<code>&lt;-</code>は代入演算子<a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a>、<code>c()</code>関数はベクトルデータを作成する関数です。代入結果を確認するには以下を実行します。</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb4-1"><a href="要約統計量.html#cb4-1"></a>x</span></code></pre></div>
<pre><code>## [1] 1 3 3 5 7</code></pre>
<p>算出平均は<code>mean()</code>関数に計算対象となる<code>x</code>を指定して実行します。</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb6-1"><a href="要約統計量.html#cb6-1"></a><span class="fu">mean</span>(x)</span></code></pre></div>
<pre><code>## [1] 3.8</code></pre>
</div>
<div id="トリム平均" class="section level4" number="2.1.1.2">
<h4><span class="header-section-number">2.1.1.2</span> トリム平均</h4>
<p>トリム平均は算術平均のコードに<code>trim</code>オプションを指定するだけです。<code>trim</code>オプションは計算対象外にする割合を指定するオプションです。今回は五つのデータから最小値・最大値の二つを除いてトリム平均を求めますので<span class="math inline">\(\frac{2}{5} = 0.2\)</span>を指定します。</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb8-1"><a href="要約統計量.html#cb8-1"></a><span class="fu">mean</span>(x, <span class="at">trim =</span> <span class="fl">0.2</span>)</span></code></pre></div>
<pre><code>## [1] 3.666667</code></pre>
<p>関数に指定できるオプションを確認した場合場<code>?</code>に続いて関数名を<code>()</code>付きで打ち込んで実行してください。ヘルプが表示されます。</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb10-1"><a href="要約統計量.html#cb10-1"></a>?<span class="fu">mean</span>()</span></code></pre></div>
</div>
<div id="幾何平均" class="section level4" number="2.1.1.3">
<h4><span class="header-section-number">2.1.1.3</span> 幾何平均</h4>
<p>式<a href="要約統計量.html#eq:geometric-mean">(2.2)</a>の幾何平均（相乗平均）を求める関数は標準では用意されていません。パッケージを追加インストールする必要があります。ここでは<strong><code>psych</code></strong>パッケージを下記の手順でインストールして使います。なお、インストールに際してはインターネット接続が必要です。</p>
<ol style="list-style-type: decimal">
<li>パッケージをインストールする</li>
<li>パッケージを読み込む</li>
</ol>
<p>パッケージのインストールは<code>install.packages()</code>関数を用います。<code>install.packages()</code>関数を実行すると環境によってはCRANミラーサイトの選択を促される場合があります。その場合は、最も近い地域のミラーサイトを選択してください。なお、パッケージのインストールは一度行えば次からのインストールは不要です。</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb11-1"><a href="要約統計量.html#cb11-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;psych&quot;</span>)</span></code></pre></div>
<p>インストールが完了しましたら<code>library()</code>関数を使ってパッケージを読み込みます。</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb12-1"><a href="要約統計量.html#cb12-1"></a><span class="fu">library</span>(psych)</span></code></pre></div>
<pre><code>## 
##  次のパッケージを付け加えます: &#39;psych&#39;</code></pre>
<pre><code>##  以下のオブジェクトは &#39;package:ggplot2&#39; からマスクされています: 
## 
##      %+%, alpha</code></pre>
<p>環境によっては上記のように他のパッケージの関数をマスクしている旨のメッセージが出力されますが、今は気にする必要ありません。</p>
<p>これで<strong><code>psych</code></strong>パッケージを使う準備が整いましたので、<code>geometric.mean()</code>関数で幾何平均を求めます。</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb15-1"><a href="要約統計量.html#cb15-1"></a><span class="fu">geometric.mean</span>(x)</span></code></pre></div>
<pre><code>## [1] 3.159818</code></pre>
<p>インストールしたパッケージの関数を使う場合、どのパッケージの関数を使っているかを明示的に示すために下記のように<code>::</code>演算子（名前空間へのアクセス演算子という）でパッケージ名と関数名をつなげて記述することもできます。</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb17-1"><a href="要約統計量.html#cb17-1"></a>psych<span class="sc">::</span><span class="fu">geometric.mean</span>(x)</span></code></pre></div>
<pre><code>## [1] 3.159818</code></pre>
<p>この表記方法については賛否ありますが、どのパッケージの関数を使っているかが分かりやすいので本書ではこの記述方法を用います。</p>
</div>
<div id="閑話" class="section level4 unnumbered">
<h4>閑話</h4>
<p><strong>パッケージ四方山話</strong><br />
　幾何平均を求めるために<code>psych</code>パッケージを利用しましたが、<strong>R</strong>には総積（<span class="math inline">\(x_1 \times x_2 \times \cdots \times x_n\)</span>）を求める<code>prod()</code>関数と累乗根（<span class="math inline">\(x^{\frac{1}{n}}\)</span>）を求めるべき乗演算子（<code>^</code>）がありますので、これを組み合わせれば幾何平均を求めることが可能です。</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb19-1"><a href="要約統計量.html#cb19-1"></a><span class="fu">prod</span>(x) <span class="sc">^</span> (<span class="dv">1</span> <span class="sc">/</span> <span class="fu">length</span>(x))</span></code></pre></div>
<pre><code>## [1] 3.159818</code></pre>
<p><code>length()</code>関数は変数<code>x</code>の長さ（変数<code>x</code>の中にある値の個数）を求める関数です。</p>
<p>幾何平均は全ての値を<code>prod()</code>関数で乗算しますのが、データの数が多い場合やデータの値が大きい（または、小さい）場合に<code>prod()</code>関数がオーバーフロー（または、アンダーフロー）を起こしてしまうことがあります。例えば、<span class="math inline">\(1\)</span>から<span class="math inline">\(200\)</span>までを乗算するとオーバーフローを起こします。</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb21-1"><a href="要約統計量.html#cb21-1"></a><span class="fu">prod</span>(<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">200</span>))</span></code></pre></div>
<pre><code>## [1] Inf</code></pre>
<p>一方、<code>geometric.mean()</code>関数は対策が施されていますのでオーバーフローを起こすことなく幾何平均を求めることができます。</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb23-1"><a href="要約統計量.html#cb23-1"></a>psych<span class="sc">::</span><span class="fu">geometric.mean</span>(<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">200</span>))</span></code></pre></div>
<pre><code>## [1] 74.90045</code></pre>
<p>このように既にパッケージで提供されている関数があれば、自分でコードを組むよりはパッケージを導入した方が早くて確実です（ここでの本来の目的は幾何平均を求めることでなくデータの特徴を掴むことです）。特に<strong>CRAN</strong>に登録されているパッケージは審査が行われていますので、使わないよりは使った方が確実に目的を達成しやすくなります。<strong>R</strong>には先人の知恵が結集していますので、車輪の再発明に挑戦するより先人の知恵を活用する方をおすゝめします。</p>
<!-- \newpage -->
</div>
</div>
<div id="分散標準偏差" class="section level3" number="2.1.2">
<h3><span class="header-section-number">2.1.2</span> 分散・標準偏差</h3>
<p>データの散らばり具合を見るには分散・標準偏差がよく使われます。例えば、以下の<code>x</code>と<code>y</code>が取る値の範囲は同一ですが、同じ散らばり具合と言えるでしょうか？</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb25-1"><a href="要約統計量.html#cb25-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="dv">9</span>)</span>
<span id="cb25-2"><a href="要約統計量.html#cb25-2"></a><span class="fu">range</span>(x)</span></code></pre></div>
<pre><code>## [1] 1 9</code></pre>
<div class="sourceCode" id="cb27"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb27-1"><a href="要約統計量.html#cb27-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">9</span>, <span class="dv">9</span>)</span>
<span id="cb27-2"><a href="要約統計量.html#cb27-2"></a><span class="fu">range</span>(y)</span></code></pre></div>
<pre><code>## [1] 1 9</code></pre>
<p>散らばり具合を見るためにデータの個々の値と平均値との差の二乗の算術平均を分散（標本分散<span class="math inline">\(s^2\)</span>）、</p>
<!-- $$s^2 = \frac{1}{n} \sum_{i = 1}^n (x_i - \bar{x})^2$$￥ -->
<!-- $$s = \sqrt{s^2} = \sqrt{\frac{1}{n} \sum_{i = 1}^n (x_i - \bar{x})^2}$$ -->
<p><span class="math display" id="eq:variance">\[\begin{equation}
  s^2 = \frac{1}{n} \sum_{i = 1}^n (x_i - \bar{x})^2 \tag{2.3}
\end{equation}\]</span></p>
<p>単位を戻すために分散の平方根をとったものを標準偏差（標本標準偏差<span class="math inline">\(s\)</span>）と呼びます。</p>
<p><span class="math display" id="eq:standatd-deviation">\[\begin{equation}
  s = \sqrt{s^2} = \sqrt{\frac{1}{n} \sum_{i = 1}^n (x_i - \bar{x})^2} \tag{2.4}
\end{equation}\]</span></p>
<p>しかし、<strong>R</strong>にはこの標本分散（<span class="math inline">\(s^2\)</span>）を求める関数は用意されていませんが、不偏分散（<span class="math inline">\(\hat{\sigma}^2\)</span>）を求める<code>var()</code>関数が用意されています。</p>
<!-- $$\hat{\sigma}^2 = \frac{1}{n - 1} \sum_{i = 1}^n (x_i - \bar{x})^2 = var(x)$$ -->
<p><span class="math display" id="eq:var">\[\begin{equation}
  \hat{\sigma}^2 = \frac{1}{n - 1} \sum_{i = 1}^n (x_i - \bar{x})^2 = var(x) \tag{2.5}
\end{equation}\]</span></p>
<p>この二式<a href="要約統計量.html#eq:variance">(2.3)</a><a href="要約統計量.html#eq:var">(2.5)</a>から標本分散（<span class="math inline">\(s^2\)</span>）は</p>
<!-- $$s^2 = \frac{n - 1}{n}\hat{\sigma}^2$$ -->
<p><span class="math display" id="eq:variance-var">\[\begin{equation}
  s^2 = \frac{n - 1}{n}\hat{\sigma}^2 = \frac{length(x) - 1}{length(x)}var(x) \tag{2.6}
\end{equation}\]</span></p>
<p>で求めることができます。また、標本標準偏差（<span class="math inline">\(s\)</span>）は式<a href="要約統計量.html#eq:variance-var">(2.6)</a>の平方根で求められます。</p>
<!-- 母分散（$\sigma^2$）これは分からない -->
<!-- 標本分散（$s^2$） 標本から求められる -->
<!-- 母分散の不偏推定量（$\hat{\sigma}^2$）不偏標本分散・不偏分散ともいい、標本から推定する -->
</div>
<div id="モーメント" class="section level3" number="2.1.3">
<h3><span class="header-section-number">2.1.3</span> モーメント</h3>
<p>本節の内容はデータ分析ではあまり使いませんので読み飛ばして頂いても結構です。</p>
<p>平均（分布の重心）と分散（分布の広がり）は、歪度（分布の左右非対称度合い）、尖度（分布の峰の尖り度合い）を含めて「モーメントから求められる要約統計量」と呼ぶことがあります。</p>
<p><span class="math inline">\(n\)</span>個のデータの平均値を</p>
<!-- $$\bar{x} = \frac{1}{n}\sum_{i = 1}^{n}x_i$$ -->
<p><span class="math display" id="eq:moment1">\[\begin{equation}
  \bar{x} = \frac{1}{n}\sum_{i = 1}^{n}x_i \tag{2.7}
\end{equation}\]</span></p>
<p>とした場合、平均値まわりの<span class="math inline">\(m\)</span>次の中央モーメント<span class="math inline">\(\bar{x}_m\)</span>を</p>
<!-- $$\bar{x}_m = \frac{1}{n}\sum_{i = 1}^{n}(x_i - \bar{x})^m　　(m = 2, 3, 4)$$ -->
<p><span class="math display" id="eq:moment">\[\begin{equation}
  \bar{x}_m = \frac{1}{n}\sum_{i = 1}^{n}(x_i - \bar{x})^m　　(m = 2, 3, 4) \tag{2.8}
\end{equation}\]</span></p>
<p>と定義します。<span class="math inline">\(m = 2\)</span>の場合、</p>
<!-- $$\bar{x}_2 = \frac{1}{n}\sum_{i = 1}^{n}(x_i - \bar{x})^2 = s^2$$ -->
<p><span class="math display" id="eq:moment2">\[\begin{equation}
  \bar{x}_2 = \frac{1}{n}\sum_{i = 1}^{n}(x_i - \bar{x})^2 = s^2 \tag{2.9}
\end{equation}\]</span></p>
<p>となりますので、<span class="math inline">\(\bar{x}_2\)</span>は分散<span class="math inline">\(s^2\)</span>であることがわかります。<span class="math inline">\(m = 3\)</span>の場合、</p>
<!-- $$\bar{x}_3 = \frac{1}{n}\sum_{i = 1}^{n}(x_i - \bar{x})^3$$ -->
<p><span class="math display" id="eq:moment3">\[\begin{equation}
  \bar{x}_3 = \frac{1}{n}\sum_{i = 1}^{n}(x_i - \bar{x})^3 \tag{2.10}
\end{equation}\]</span></p>
<p>となり、これを標準偏差の三乗（<span class="math inline">\(s^3\)</span>）で割ったもの</p>
<!-- $$\gamma_1 = \frac{\bar{x}_3}{s^3}$$ -->
<p><span class="math display" id="eq:skewness">\[\begin{equation}
  \gamma_1 = \frac{\bar{x}_3}{s^3} \tag{2.11}
\end{equation}\]</span></p>
<p>を歪度（<span class="math inline">\(\gamma_1\)</span>）と呼びます。<span class="math inline">\(m = 4\)</span>の場合、</p>
<!-- $$\bar{x}_4 = \frac{1}{n}\sum_{i = 1}^{n}(x_i - \bar{x})^4$$ -->
<p><span class="math display" id="eq:moment4">\[\begin{equation}
  \bar{x}_4 = \frac{1}{n}\sum_{i = 1}^{n}(x_i - \bar{x})^4  \tag{2.12}
\end{equation}\]</span></p>
<p>となり、これを標準偏差の四乗、または、分散の二乗（<span class="math inline">\(s^4\)</span>）で割ったもの</p>
<!-- $$\gamma_2 = \frac{\bar{x}_4}{s^4}$$ -->
<p><span class="math display" id="eq:kurtosise">\[\begin{equation}
  \gamma_2 = \frac{\bar{x}_4}{s^4} \tag{2.13}
\end{equation}\]</span></p>
<!-- \begin{align} -->
<!--   \gamma_2 &= \frac{\bar{x}_4}{s^4} (\#eq:kurtosis) -->
<!-- \end{align} -->
<p>を尖度（<span class="math inline">\(\gamma_2\)</span>）と呼びます。</p>
<p>歪度や尖度を求める関数は標準では用意されていませんので<strong><code>e1071</code></strong>パッケージを用います。</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb29-1"><a href="要約統計量.html#cb29-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;e1071&quot;</span>)</span>
<span id="cb29-2"><a href="要約統計量.html#cb29-2"></a><span class="fu">library</span>(e1071)</span></code></pre></div>
<div id="歪度" class="section level4" number="2.1.3.1">
<h4><span class="header-section-number">2.1.3.1</span> 歪度</h4>
<p>歪度はデータ分布の左右対象度合いです。左右対象となるデータ分布であれば<span class="math inline">\(0\)</span>、右に歪んでいれば正の値を、左に歪んでいれば負の値を取ります。例えば下図のような分布を持つデータでは
<img src="R_files/figure-html/unnamed-chunk-32-1.png" width="90%" style="display: block; margin: auto;" />
歪度は、ほぼゼロの値となります。</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb30-1"><a href="要約統計量.html#cb30-1"></a>e1071<span class="sc">::</span><span class="fu">skewness</span>(x)</span></code></pre></div>
<pre><code>## [1] 0.04548819</code></pre>
<p>大きく右に歪んだ（左に偏った）カイ二乗分布のようなデータでは
<img src="R_files/figure-html/unnamed-chunk-34-1.png" width="90%" style="display: block; margin: auto;" />
歪度は正の値をとります。</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb32-1"><a href="要約統計量.html#cb32-1"></a>e1071<span class="sc">::</span><span class="fu">skewness</span>(x)</span></code></pre></div>
<pre><code>## [1] 1.318739</code></pre>
<p>逆に左に歪んだ（右に偏った）データでは
<img src="R_files/figure-html/unnamed-chunk-36-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p>負の値をとります。</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb34-1"><a href="要約統計量.html#cb34-1"></a>e1071<span class="sc">::</span><span class="fu">skewness</span>(x)</span></code></pre></div>
<pre><code>## [1] -1.318739</code></pre>
</div>
<div id="尖度" class="section level4" number="2.1.3.2">
<h4><span class="header-section-number">2.1.3.2</span> 尖度</h4>
<p>尖度はデータ分布の尖り具合です。標準正規分布と等しければ<span class="math inline">\(0\)</span>、標準正規分布より尖ったt分布のような分布では正の値、広がった分布であれば負の値をとります。
<img src="R_files/figure-html/unnamed-chunk-38-1.png" width="90%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb36"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb36-1"><a href="要約統計量.html#cb36-1"></a>e1071<span class="sc">::</span><span class="fu">kurtosis</span>(x)</span></code></pre></div>
<pre><code>## [1] 0.01457407</code></pre>
<p><img src="R_files/figure-html/unnamed-chunk-40-1.png" width="90%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb38"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb38-1"><a href="要約統計量.html#cb38-1"></a>e1071<span class="sc">::</span><span class="fu">kurtosis</span>(x)</span></code></pre></div>
<pre><code>## [1] 0.7919764</code></pre>
<p><img src="R_files/figure-html/unnamed-chunk-42-1.png" width="90%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb40"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb40-1"><a href="要約統計量.html#cb40-1"></a>e1071<span class="sc">::</span><span class="fu">kurtosis</span>(x)</span></code></pre></div>
<pre><code>## [1] -0.3767132</code></pre>
<!-- \newpage -->
</div>
</div>
<div id="中央値" class="section level3" number="2.1.4">
<h3><span class="header-section-number">2.1.4</span> 中央値</h3>
<p>平均値や分散・標準偏差はデータの分布が平均値を中心に左右対象になっているような場合は有用な統計量ですが、データの分布が大きく歪んでいる対象に対しては適した統計量とは言えません。このような場合、平均値の代わりに中央値（中位数）や最頻値、分散・標準偏差に代わり範囲・分位範囲（分位値）を用いるます。これらの統計量はデータの中の位置を用いますので、データの分布に影響されることが少ないロバストネス（頑健性の高い）な統計量です。</p>
<p>中央値は文字通り中央（真ん中）に位置する値です。データを小さい順に並べて真ん中に位置する値で、<code>median()</code>関数を使って求めます。データが順番に並んでいなくても<code>median()</code>関数内でソート処理を行います。</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb42-1"><a href="要約統計量.html#cb42-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">9</span>, <span class="dv">7</span>)</span>
<span id="cb42-2"><a href="要約統計量.html#cb42-2"></a><span class="fu">median</span>(x)</span></code></pre></div>
<pre><code>## [1] 5</code></pre>
<p>データの長さ（値の数）が奇数の場合は、単純に中央の値（上記の場合は<span class="math inline">\(1, 3, 5, 7, 9\)</span>なので中央に位置する<span class="math inline">\(5\)</span>）を返しますが、データの長さ偶数の場合は中央に近い両側の値の平均値（相加平均）を返します。</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb44-1"><a href="要約統計量.html#cb44-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">9</span>, <span class="dv">7</span>, <span class="dv">6</span>)</span>
<span id="cb44-2"><a href="要約統計量.html#cb44-2"></a><span class="fu">median</span>(x)</span></code></pre></div>
<pre><code>## [1] 5.5</code></pre>
<p>例えば、上記のようにデータの長さが偶数（<span class="math inline">\(6\)</span>）で<span class="math inline">\(1, 3, 5, 6, 7, 9\)</span>というデータですので、中央に最も近い<span class="math inline">\(5, 6\)</span>の平均値を中央値としています。</p>
<p>中央値と平均値を比較すると中央値がデータの分布に影響されにくい（ロバストネス）なことが分かります。</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb46-1"><a href="要約統計量.html#cb46-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">9</span>, <span class="dv">7</span>)</span>
<span id="cb46-2"><a href="要約統計量.html#cb46-2"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">9</span>, <span class="dv">28</span>)</span></code></pre></div>
<div class="sourceCode" id="cb47"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb47-1"><a href="要約統計量.html#cb47-1"></a><span class="fu">median</span>(x)                    <span class="co"># 中央値の比較</span></span></code></pre></div>
<pre><code>## [1] 5</code></pre>
<div class="sourceCode" id="cb49"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb49-1"><a href="要約統計量.html#cb49-1"></a><span class="fu">median</span>(y)                    <span class="co"># 中央値の比較（大きい値には引っ張られない）</span></span></code></pre></div>
<pre><code>## [1] 5</code></pre>
<div class="sourceCode" id="cb51"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb51-1"><a href="要約統計量.html#cb51-1"></a><span class="fu">mean</span>(x)                      <span class="co"># 平均値の比較</span></span></code></pre></div>
<pre><code>## [1] 5</code></pre>
<div class="sourceCode" id="cb53"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb53-1"><a href="要約統計量.html#cb53-1"></a><span class="fu">mean</span>(y)                      <span class="co"># 平均値の比較（大きい値に引っ張られている）</span></span></code></pre></div>
<pre><code>## [1] 9.2</code></pre>
</div>
<div id="範囲" class="section level3" number="2.1.5">
<h3><span class="header-section-number">2.1.5</span> 範囲</h3>
<p>前述の<code>x</code>と<code>y</code>は、中央値で見る限りと同じデータになってしまいます。この結論はいささか不合理ですので、データのばらつきを範囲（レンジ）で見てみます。範囲を求めるには、その名の通りの<code>range()</code>を用います。</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb55-1"><a href="要約統計量.html#cb55-1"></a>x</span></code></pre></div>
<pre><code>## [1] 1 3 5 9 7</code></pre>
<div class="sourceCode" id="cb57"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb57-1"><a href="要約統計量.html#cb57-1"></a><span class="fu">range</span>(x)</span></code></pre></div>
<pre><code>## [1] 1 9</code></pre>
<div class="sourceCode" id="cb59"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb59-1"><a href="要約統計量.html#cb59-1"></a>y</span></code></pre></div>
<pre><code>## [1]  1  3  5  9 28</code></pre>
<div class="sourceCode" id="cb61"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb61-1"><a href="要約統計量.html#cb61-1"></a><span class="fu">range</span>(y)</span></code></pre></div>
<pre><code>## [1]  1 28</code></pre>
<p>範囲でみると<code>y</code>の方が<code>x</code>よりばらついていることが分かります。</p>
<p><code>range()</code>関数は最小値と最大値を一度に取得しています。最小値は<code>min()</code>関数、最大値は<code>max()</code>関数で求められますので、<code>range()</code>関数は以下のように処理をしていることが分かります。</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb63-1"><a href="要約統計量.html#cb63-1"></a><span class="fu">c</span>(<span class="fu">min</span>(x), <span class="fu">max</span>(x))</span></code></pre></div>
<pre><code>## [1] 1 9</code></pre>
<p>最小値から最大値の幅を求めたい場合には<code>min()</code>関数と<code>max()</code>関数を用いるよりは<code>diff()</code>関数を用いた方が簡単です。</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb65-1"><a href="要約統計量.html#cb65-1"></a><span class="fu">diff</span>(<span class="fu">range</span>(x))</span></code></pre></div>
<pre><code>## [1] 8</code></pre>
<div class="sourceCode" id="cb67"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb67-1"><a href="要約統計量.html#cb67-1"></a><span class="fu">diff</span>(<span class="fu">range</span>(y))</span></code></pre></div>
<pre><code>## [1] 27</code></pre>
</div>
<div id="四分位数四分位範囲" class="section level3" number="2.1.6">
<h3><span class="header-section-number">2.1.6</span> 四分位数・四分位範囲</h3>
<p>中央値は中位数と呼ばれるようにデータを二分の一にした場所にあるデータです。さらに細かくして全体を四分の一にしたの場所にあるデータを四分位数と呼びます。小さい方から見て最初の四分の一にある値を第一四分位数（<span class="math inline">\(25\%\)</span>点、<span class="math inline">\(Q_1\)</span>）、次の四分の一にある値を第二四分位数（<span class="math inline">\(50\%\)</span>点、<span class="math inline">\(Q_2\)</span>）、次の四分の一にある値を第三四分位数（<span class="math inline">\(75\%\)</span>点、<span class="math inline">\(Q_3\)</span>）といいます。第二四分位数（<span class="math inline">\(50%\)</span>点、<span class="math inline">\(Q_2\)</span>）は中央値（中位数）とイコールです。
四分位数にも範囲があり、四分位範囲（<span class="math inline">\(IQR\)</span>, interquartile range）と呼ばれ以下のように定義されます、</p>
<!-- $$IQR = Q_3 - Q_1$$ -->
<p><span class="math display" id="eq:IQR">\[\begin{equation}
  IQR = Q_3 - Q_1 \tag{2.14}
\end{equation}\]</span></p>
<p>四分位数は<code>quantile()</code>関数で求めることができます。オプションを指定しなければ第一〜第三四分位数に加えて最小値（<span class="math inline">\(0\%点\)</span>）・最大値（<span class="math inline">\(100\%点\)</span>）を加えた五つの値が返ってきます。</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb69-1"><a href="要約統計量.html#cb69-1"></a><span class="fu">quantile</span>(x)</span></code></pre></div>
<pre><code>##   0%  25%  50%  75% 100% 
##    1    3    5    7    9</code></pre>
<p>任意の四分位数を求めたい場合は<code>prob</code>オプションを指定します。<code>prob</code>は<span class="math inline">\(0\)</span>〜<span class="math inline">\(1\)</span>の間で指定する点に中位してください。</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb71-1"><a href="要約統計量.html#cb71-1"></a><span class="fu">quantile</span>(x, <span class="at">prob =</span> <span class="fl">0.25</span>)</span></code></pre></div>
<pre><code>## 25% 
##   3</code></pre>
<p>複数の四分位数を同時に求めことも可能です。</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb73-1"><a href="要約統計量.html#cb73-1"></a><span class="fu">quantile</span>(x, <span class="at">prob =</span> <span class="fu">c</span>(<span class="fl">0.25</span>, <span class="fl">0.75</span>))</span></code></pre></div>
<pre><code>## 25% 75% 
##   3   7</code></pre>
<p>四分位範囲（<span class="math inline">\(IQR\)</span>）を求める場合は<code>IQR()</code>関数が便利です。</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb75-1"><a href="要約統計量.html#cb75-1"></a><span class="fu">IQR</span>(x)</span></code></pre></div>
<pre><code>## [1] 4</code></pre>
</div>
<div id="最頻値" class="section level3" number="2.1.7">
<h3><span class="header-section-number">2.1.7</span> 最頻値</h3>
<p>最頻値（モード）とは文字通り、最も頻繁に出てくる値のことです。例えば、以下の<code>x</code>と<code>y</code>は、平均値・中央値・範囲は全て同じ値になるデータです。</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb77-1"><a href="要約統計量.html#cb77-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">9</span>)</span>
<span id="cb77-2"><a href="要約統計量.html#cb77-2"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">3</span>, <span class="dv">3</span>, <span class="dv">9</span>)</span>
<span id="cb77-3"><a href="要約統計量.html#cb77-3"></a><span class="fu">mean</span>(x)</span></code></pre></div>
<pre><code>## [1] 3.8</code></pre>
<div class="sourceCode" id="cb79"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb79-1"><a href="要約統計量.html#cb79-1"></a><span class="fu">mean</span>(y)</span></code></pre></div>
<pre><code>## [1] 3.8</code></pre>
<div class="sourceCode" id="cb81"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb81-1"><a href="要約統計量.html#cb81-1"></a><span class="fu">median</span>(x)</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<div class="sourceCode" id="cb83"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb83-1"><a href="要約統計量.html#cb83-1"></a><span class="fu">median</span>(y)</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<div class="sourceCode" id="cb85"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb85-1"><a href="要約統計量.html#cb85-1"></a><span class="fu">diff</span>(<span class="fu">range</span>(x))</span></code></pre></div>
<pre><code>## [1] 8</code></pre>
<div class="sourceCode" id="cb87"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb87-1"><a href="要約統計量.html#cb87-1"></a><span class="fu">diff</span>(<span class="fu">range</span>(y))</span></code></pre></div>
<pre><code>## [1] 8</code></pre>
<p>このようなデータに対しては最頻値を用いると平均値・中央値・範囲では見えなかった差異が見える場合があります。最頻値を求める関数は標準では用意されていませんので<code>modeest</code>パッケージを用います。</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb89-1"><a href="要約統計量.html#cb89-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;modeest&quot;</span>)</span>
<span id="cb89-2"><a href="要約統計量.html#cb89-2"></a><span class="fu">library</span>(modeest)</span></code></pre></div>
<div class="sourceCode" id="cb90"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb90-1"><a href="要約統計量.html#cb90-1"></a>modeest<span class="sc">::</span><span class="fu">mfv</span>(x)</span></code></pre></div>
<pre><code>## Registered S3 methods overwritten by &#39;rmutil&#39;:
##   method         from 
##   plot.residuals psych
##   print.response httr</code></pre>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb93"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb93-1"><a href="要約統計量.html#cb93-1"></a>modeest<span class="sc">::</span><span class="fu">mfv</span>(y)</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<!-- \newpage -->
</div>
<div id="まとめ" class="section level3" number="2.1.8">
<h3><span class="header-section-number">2.1.8</span> まとめ</h3>
<p>本節に出てきた要約統計量と関数は下表の通りです。</p>
<table>
<thead>
<tr class="header">
<th>要約統計量</th>
<th align="center">表記</th>
<th>関数</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>標本平均</td>
<td align="center"><span class="math inline">\(\bar{x}\)</span></td>
<td><code>mean(x)</code></td>
</tr>
<tr class="even">
<td>トリム平均</td>
<td align="center"></td>
<td><code>mean(x, trim = t), t = 0 to 0.5</code></td>
</tr>
<tr class="odd">
<td>幾何平均</td>
<td align="center"></td>
<td><code>psych::geometric.mean(x)</code></td>
</tr>
<tr class="even">
<td>標本分散</td>
<td align="center"><span class="math inline">\(s^2\)</span></td>
<td><code>(length(x) - 1) / length(x) * var(x)</code></td>
</tr>
<tr class="odd">
<td>不偏分散</td>
<td align="center"><span class="math inline">\(\hat{\sigma}^2\)</span></td>
<td><code>var(x)</code></td>
</tr>
<tr class="even">
<td>標本標準偏差</td>
<td align="center"><span class="math inline">\(s\)</span></td>
<td><code>sqrt((length(x) - 1) / length(x) * var(x))</code></td>
</tr>
<tr class="odd">
<td>不偏標本偏差</td>
<td align="center"><span class="math inline">\(\hat{\sigma}\)</span></td>
<td><code>sd(x)</code></td>
</tr>
<tr class="even">
<td>歪度</td>
<td align="center"><span class="math inline">\(\gamma_1\)</span></td>
<td><code>e1071::skewness(x)</code></td>
</tr>
<tr class="odd">
<td>尖度</td>
<td align="center"><span class="math inline">\(\gamma_2\)</span></td>
<td><code>e1071::kurtosis</code></td>
</tr>
<tr class="even">
<td>中央値</td>
<td align="center"></td>
<td><code>median(x)</code></td>
</tr>
<tr class="odd">
<td>範囲</td>
<td align="center"><span class="math inline">\(R\)</span><a href="#fn5" class="footnote-ref" id="fnref5"><sup>5</sup></a></td>
<td><code>range(x)</code> or <code>diff(range(x))</code></td>
</tr>
<tr class="even">
<td>四分位数</td>
<td align="center"><span class="math inline">\(Q_n\)</span></td>
<td><code>quantile(x)</code></td>
</tr>
<tr class="odd">
<td>第<span class="math inline">\(n\)</span>四分位数</td>
<td align="center"><span class="math inline">\(Q_n\)</span></td>
<td><code>quantile(x, prob = p), p = 0.25n</code></td>
</tr>
<tr class="even">
<td>四分位範囲</td>
<td align="center"><span class="math inline">\(IQR\)</span></td>
<td><code>IQR(x)</code></td>
</tr>
<tr class="odd">
<td>最頻値</td>
<td align="center"></td>
<td><code>modeest::mfv(x)</code></td>
</tr>
</tbody>
</table>
<!-- \newpage -->
</div>
<div id="演習" class="section level3" number="2.1.9">
<h3><span class="header-section-number">2.1.9</span> 演習</h3>
<div id="演習-1" class="section level4 unnumbered">
<h4>演習 1</h4>
<p>標本分散（<span class="math inline">\(s^2\)</span>）と不偏分散（<span class="math inline">\(\hat{\sigma}^2\)</span>）の関係式<a href="要約統計量.html#eq:variance-var">(2.6)</a>を用いて以下の二つのデータの標本分散（<span class="math inline">\(s^2\)</span>）を求めなさい。</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb95-1"><a href="要約統計量.html#cb95-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="dv">9</span>)</span>
<span id="cb95-2"><a href="要約統計量.html#cb95-2"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">9</span>, <span class="dv">9</span>)</span></code></pre></div>
</div>
<div id="演習-2" class="section level4 unnumbered">
<h4>演習 2</h4>
<p>欠損値を含む以下のデータの平均値（<span class="math inline">\(\bar{x}\)</span>）、不偏分散（<span class="math inline">\(\hat{\sigma}^2\)</span>）ならびに標本分散（<span class="math inline">\(s^2\)</span>）を求めなさい。</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb96-1"><a href="要約統計量.html#cb96-1"></a>z <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">5</span>, <span class="cn">NA</span>, <span class="dv">7</span>, <span class="dv">9</span>)</span></code></pre></div>
<blockquote>
<p><code>na.rm</code>オプションを使います</p>
</blockquote>
</div>
<div id="演習-3" class="section level4 unnumbered">
<h4>演習 3</h4>
<div style="page-break-after: always;"></div>
</div>
</div>
<div id="コラム" class="section level3 unnumbered">
<h3>コラム</h3>
<!-- ```{block2, type="rmdnote", include=knitr::is_latex_output()} -->

<div class="rmdnote">
<p><strong>英字？ギリシャ文字？</strong><br />
　統計の書籍では様々な統計量を英字で表記する場合とギリシャ文字で表記する場合があり混乱しやすいのですが、英字（アルファベット）で表記されている場合は標本統計量、ギリシャ文字で表記されている場合は母集団の統計量もしくは母集団の推定統計量を意味しています。<br />
　推定統計量を表記する場合、推定であることを意味するハット（ <span class="math inline">\(\hat{}\)</span> ）という記号をつけます。平均と分散・標準偏差を使って整理すると下表のようになります。</p>
<table>
<thead>
<tr class="header">
<th>統計量</th>
<th align="center">平均</th>
<th align="center">分散</th>
<th align="center">標準偏差</th>
<th>備考</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>母集団の統計量</td>
<td align="center"><span class="math inline">\(\mu\)</span></td>
<td align="center"><span class="math inline">\(\sigma^2\)</span></td>
<td align="center"><span class="math inline">\(\sigma\)</span></td>
<td>神のみぞ知る統計量</td>
</tr>
<tr class="even">
<td>（不偏）推定量</td>
<td align="center"><span class="math inline">\(\hat{\mu}\)</span></td>
<td align="center"><span class="math inline">\(\hat{\sigma}^2\)</span></td>
<td align="center"><span class="math inline">\(\hat{\sigma}\)</span></td>
<td>標本から母集団を推定した統計量</td>
</tr>
<tr class="odd">
<td>標本統計量</td>
<td align="center"><span class="math inline">\(\bar{x}\)</span></td>
<td align="center"><span class="math inline">\(s^2\)</span></td>
<td align="center"><span class="math inline">\(s\)</span></td>
<td>標本から求める統計量</td>
</tr>
</tbody>
</table>
　ハット（ <span class="math inline">\(\hat{}\)</span> ）を省略している書籍や資料も散見されますので混乱しないように注意してください。詳しくは『統計的方法のしくみ』<span class="citation">(<a href="#ref-ToukeitekiHouhounoSikumi:jbook" role="doc-biblioref">永田 1996</a>)</span>の「3. 母数と統計量の区別」や『統計解析のはなし』<span class="citation">(<a href="#ref-ToukeiKaisekinoHanashi" role="doc-biblioref">大平 2006</a>)</span>の「2. 素人探偵物語」などを参照してください。
</div>
<div style="page-break-after: always;"></div>

</div>
</div>
<h3>References</h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-ToukeiKaisekinoHanashi" class="csl-entry">
大平. 2006. <em>『統計解析のはなし』</em>. 改訂版. 日科技連出版. <a href="https://www.juse-p.co.jp/products/view/196">https://www.juse-p.co.jp/products/view/196</a>.
</div>
<div id="ref-ToukeitekiHouhounoSikumi:jbook" class="csl-entry">
永田. 1996. <em>『統計的方法のしくみ』</em>. First. 日科技連出版. <a href="https://www.juse-p.co.jp/products/view/27">https://www.juse-p.co.jp/products/view/27</a>.
</div>
</div>
<div class="footnotes">
<hr />
<ol start="4">
<li id="fn4"><p><strong>R</strong>では代入に<code>=</code>を使わないようにしてください<a href="要約統計量.html#fnref4" class="footnote-back">↩︎</a></p></li>
<li id="fn5"><p>重相関計数を意味する場合もあり<a href="要約統計量.html#fnref5" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="rの基本.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="推定.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="assets/gitbook-2.6.7/js/app.min.js"></script>
<script src="assets/gitbook-2.6.7/js/lunr.js"></script>
<script src="assets/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="assets/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "night",
"family": "serif",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["R.pdf"],
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
},
"search": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
